---
const base = import.meta.env.BASE_URL

const project = {
  badge: 'Project: E-Cell SAKEC Â· Food Fiesta & Zaika',
  title: 'Creative Campaign & Web Strategy',
  summary:
    'As Website Lead and Content Creator, I led the digital launch and promotional strategy for Food Fiesta and its food-ordering platform Zaika, combining end-to-end web development, SEO, and high-impact visuals to drive event turnout.',
  objectives: [
    'Spearheaded end-to-end web development and launch of the Zaika ordering platform and Food Fiesta event website.',
    'Implemented SEO strategies to secure strong organic visibility for the event.',
    'Designed and executed a high-impact digital campaign with varied content formats.',
  ],
  impact: [
    { label: 'Attendees Gathered', value: '600+', icon: 'ðŸ‘¥' },
    { label: 'Organic Search Ranking', value: 'Page 1', icon: 'ðŸ“ˆ' },
    { label: 'Digital Formats Launched', value: '3+', icon: 'ðŸŽ¬' },
    { label: 'Digital Presence Established', value: '100%', icon: 'âœ…' },
  ],
  image: `${base}projects/zaika/zaika_website.jpg`,
}

const formats = {
  title: 'Content Creation Showcase',
  assets: {
    howTo: {
      label: 'How-to app walkthrough',
      src: 'projects/zaika/zaika_how_to_app.mp4',
    },
    teaser: {
      label: 'Fast-paced promotional teaser edit for social media.',
      file: 'zaika_teaser.jpg',
    },
    usage: {
      label: 'Usage thumbnail for in-app ordering journey.',
      file: 'zaika_usage_thumbnail.jpg',
    },
    websiteLive: {
      label: 'Website is live',
      file: 'website_is_live.webp',
    },
    uiVideo: {
      label: 'Step-by-step instructional UI video for user onboarding.',
      src: 'projects/ff/live_now.mp4',
    },
  },
}
---

<section class="py-20 px-5" id="zaika-case-study">
  <div class="max-w-5xl mx-auto border-2 border-black bg-white shadow-[8px_8px_0_rgba(0,0,0,0.3)] p-6 space-y-8">
    <div class="inline-flex items-center rounded-full border border-black/40 bg-white/80 px-4 py-1 text-xs font-medium tracking-wide">
      {project.badge}
    </div>

    <div class="space-y-6">
      <div class="space-y-4">
        <h2 class="text-3xl font-medium leading-tight">{project.title}</h2>
        <p class="text-base leading-relaxed">
          {project.summary}
        </p>
      </div>

      <div class="grid md:grid-cols-[3fr_2fr] gap-6 items-stretch">

        <div class="border-2 border-black bg-white shadow-[6px_6px_0_rgba(0,0,0,0.25)] overflow-hidden min-h-0">
          <img
            src={project.image}
            alt="Screens from the Zaika food-ordering experience"
            class="w-full h-full object-cover aspect-square object-center"
          />
        </div>
        <div class="flex flex-col gap-6">
          <div class="space-y-2">
            <h3 class="text-lg font-semibold">Campaign Objectives Â· What I did</h3>
            <ul class="space-y-1 text-sm list-disc pl-5">
              {project.objectives.map((item) => (
                <li>{item}</li>
              ))}
            </ul>
          </div>
          <div class="space-y-3">
            <h3 class="text-xl font-semibold">The impact.</h3>
            <div class="grid grid-cols-2 gap-3">
              {project.impact.map((item) => (
                <div class="border-2 border-black bg-white p-3 flex flex-col shadow-[4px_4px_0_rgba(0,0,0,0.25)]">
                  <div class="text-xl mb-1">{item.icon}</div>
                  <p class="text-lg font-semibold leading-none">{item.value}</p>
                  <p class="text-xs mt-1 text-black/80">{item.label}</p>
                </div>
              ))}
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="max-w-5xl mx-auto mt-10 border-2 border-black bg-white shadow-[8px_8px_0_rgba(0,0,0,0.3)] p-6 space-y-8">
    <div class="inline-flex items-center rounded-full border border-black/40 bg-white/80 px-4 py-1 text-xs font-medium tracking-wide">
      Project: E-Cell SAKEC Â· Food Fiesta & Zaika
    </div>

    <h2 class="sm:text-3xl font-medium leading-tight">
      {formats.title}
    </h2>


      <div class="grid grid-cols-3 gap-1 sm:gap-4">
        <div class="border-2 border-black bg-white shadow-[4px_4px_0_rgba(0,0,0,0.25)] overflow-hidden col-span-3">
          <video
            id="zaika-howto-video"
            src={`${base}${formats.assets.howTo.src}`}
            aria-label={formats.assets.howTo.label}
            class="w-full h-full object-cover"
            autoplay
            muted
            loop
            controls
            playsinline
            webkit-playsinline
            preload="auto"
          />
        </div>

        <div class="space-y-2">
          <div class="border-2 border-black bg-white shadow-[4px_4px_0_rgba(0,0,0,0.25)] overflow-hidden">
            <img
              src={`${base}projects/zaika/${formats.assets.teaser.file}`}
              alt={formats.assets.teaser.label}
              class="w-full h-full object-cover"
            />
          </div>
        </div>

        <div class="space-y-2">
          <div class="border-2 border-black bg-white shadow-[4px_4px_0_rgba(0,0,0,0.25)] overflow-hidden">
            <video
              src={`${base}${formats.assets.uiVideo.src}`}
              aria-label={formats.assets.uiVideo.label}
              class="w-full object-cover"
              autoplay
              muted
              loop
              controls
              playsinline
              webkit-playsinline
              preload="metadata"
            />
          </div>
        </div>

        <div class="space-y-2">
          <div class="border-2 border-black bg-white shadow-[4px_4px_0_rgba(0,0,0,0.25)] overflow-hidden">
            <img
              src={`${base}projects/zaika/${formats.assets.usage.file}`}
              alt={formats.assets.usage.label}
              class="w-full h-full  object-cover"
            />
          </div>

        </div>


          <!-- <div class="space-y-2">
          <div class="border-2 border-black bg-white shadow-[4px_4px_0_rgba(0,0,0,0.25)] overflow-hidden">
            <img
              src={`${base}projects/zaika/${formats.assets.websiteLive.file}`}
              alt={formats.assets.websiteLive.label}
              class="w-full h-full aspect-square object-cover"
            />
          </div>
          <p class="text-xs md:text-sm text-black/80">
            {formats.assets.websiteLive.label}
          </p>
        </div> -->
      </div>

      
    </div>

</section>

<script>
  const section = document.querySelector('#zaika-case-study')
  if (section) {
    const videos = section.querySelectorAll('video')

    function tryPlayVideos() {
      videos.forEach((video) => {
        video.play().catch(() => {})
      })
    }

    function tryPlayWhenReady() {
      videos.forEach((video) => {
        const play = () => video.play().catch(() => {})
        if (video.readyState >= 2) play()
        else video.addEventListener('canplay', play, { once: true })
      })
    }

    // Autoplay attempt on load
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', tryPlayWhenReady)
    else tryPlayWhenReady()

    // iOS/Safari require a user gesture before video.play() is allowed â€” use first tap/click
    const once = { once: true }
    section.addEventListener('click', tryPlayVideos, once)
    section.addEventListener('touchstart', tryPlayVideos, once)
  }
</script>

